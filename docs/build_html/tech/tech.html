

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Laygo setup for new technologies &mdash; laygo_documentation 1.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="laygo_documentation 1.0 documentation" href="../index.html"/>
        <link rel="next" title="laygo" href="../api/modules.html"/>
        <link rel="prev" title="Example codes" href="../example/code.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../index.html" class="fa fa-home"> laygo_documentation</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../introduction/introduction.html#installation-and-quick-start">Installation and Quick Start</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/introduction.html#documentations">Documentations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/introduction.html#example-labs">Example Labs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/introduction.html#example-generators">Example Generators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/introduction.html#license">License</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/tutorial_GDS.html">Tutorial (GDS flow)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/tutorial_GDS.html#setup">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/tutorial_GDS.html#initialize-gridlayoutgenerator">Initialize GridLayoutGenerator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/tutorial_GDS.html#load-template-and-grid-database">Load template and grid database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/tutorial_GDS.html#library-and-cell-creation">Library and cell creation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/tutorial_GDS.html#cell-placements">Cell placements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/tutorial_GDS.html#signal-routing">Signal routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/tutorial_GDS.html#power-routing">Power routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/tutorial_GDS.html#pin-creation">Pin creation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/tutorial_GDS.html#gds-export">GDS export</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/tutorial_BAG.html">Tutorial (BAG flow)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/tutorial_BAG.html#setup-and-running">Setup and running</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/tutorial_BAG.html#initialize-gridlayoutgenerator">Initialize GridLayoutGenerator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/tutorial_BAG.html#load-template-and-grid-database">Load template and grid database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/tutorial_BAG.html#library-and-cell-creation">Library and cell creation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/tutorial_BAG.html#cell-placements">Cell placements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/tutorial_BAG.html#signal-routing">Signal routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/tutorial_BAG.html#power-routing">Power routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/tutorial_BAG.html#pin-creation">Pin creation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/tutorial_BAG.html#export-to-bag">Export to BAG</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../example/logic.html">Generator example - CMOS logic family</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../example/logic.html#install-and-launch">Install and launch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example/logic.html#supported-logic-gate-types">Supported logic gate types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example/logic.html#schematic-templates">Schematic templates</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../example/serdes.html">Generator example - CMOS 2:1 mux serializer (obsolete)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../example/serdes.html#install-and-launch">Install and launch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example/serdes.html#parameterizations">Parameterizations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../example/ser_des.html">Generator example - Flexible CMOS SERDES</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../example/ser_des.html#structure">Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example/ser_des.html#setup-for-bwrc-users">Setup (for BWRC users)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example/ser_des.html#serializer-generation">Serializer Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example/ser_des.html#deserializer-generation">Deserializer Generation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../example/tisar.html">Generator example - TISAR ADC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../example/tisar.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example/tisar.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example/tisar.html#setting-up-parameters">Setting up parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example/tisar.html#tisaradc-architecture">TISARADC architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example/tisar.html#subadc-frontend-layout-generation">SubADC frontend layout generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example/tisar.html#subadc-backend-layout-generation">SubADC backend layout generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example/tisar.html#subadc-switch-generation">SubADC switch generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example/tisar.html#subadc-top-generation">SubADC top generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example/tisar.html#array-generation">Array generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example/tisar.html#clocking-path-generation">Clocking path generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example/tisar.html#retimer">Retimer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example/tisar.html#bias">Bias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example/tisar.html#top">Top</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example/tisar.html#full-stack-generation">Full stack generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example/tisar.html#contributors">Contributors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../example/code.html">Code examples (to be uploaded)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../example/code.html#code-example-1-low-level-building-block-generations-using-primitive-templates">Code example 1: low-level building block generations using primitive templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example/code.html#code-example-2-high-level-building-block-top-generations">Code example 2: high-level building block / top generations</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Technology setup instructions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example-setup-files">Example setup files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#laygo-config-yaml">laygo_config.yaml</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tech-lib-layermap-optional">(tech_lib).layermap (optional)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#template-library">template library</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api/modules.html">API documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/laygo.html">laygo package</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">laygo_documentation</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>Laygo setup for new technologies</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/tech/tech.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="laygo-setup-for-new-technologies">
<span id="laygo-setup-for-new-technologies"></span><h1>Laygo setup for new technologies<a class="headerlink" href="#laygo-setup-for-new-technologies" title="Permalink to this headline">¶</a></h1>
<p>This section describes how to make a laygo setup for the technology in
use. This document is assuming BAG is already set up for the technology
(at least for schematic generations), but no laygo setup is created.
This document helps users to prepare technology dependent setup files
and template libraries.</p>
<div class="section" id="overview">
<span id="overview"></span><h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="example-setup-files">
<span id="example-setup-files"></span><h2>Example setup files<a class="headerlink" href="#example-setup-files" title="Permalink to this headline">¶</a></h2>
<p>Instead of starting from scratch, example setups for generic
technologies are provided. You can get files in the following repos.</p>
</div>
<div class="section" id="laygo-config-yaml">
<span id="laygo-config-yaml"></span><h2>laygo_config.yaml<a class="headerlink" href="#laygo-config-yaml" title="Permalink to this headline">¶</a></h2>
<p>The only technology file to be described by users is
<strong>laygo_config.yaml</strong>. It defines basic technology dependent information
(i.e. layer names for route layers). Here&#8217;s a example
<strong>laygo_config.yaml</strong> for <strong>cds_ff_mpt</strong> technology (Cadence generic PDK
for finfet and multiple patterning technology).</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1">#default_laygo_config file</span>
<span class="n">metal_layers</span><span class="p">:</span> <span class="c1">#metal layers</span>
<span class="o">-</span> <span class="p">[</span><span class="n">M0</span><span class="p">,</span> <span class="n">donotuse</span><span class="p">]</span>
<span class="o">-</span> <span class="p">[</span><span class="n">M1</span><span class="p">,</span> <span class="n">drawing</span><span class="p">]</span>
<span class="o">-</span> <span class="p">[</span><span class="n">M2</span><span class="p">,</span> <span class="n">drawing</span><span class="p">]</span>
<span class="o">-</span> <span class="p">[</span><span class="n">M3</span><span class="p">,</span> <span class="n">drawing</span><span class="p">]</span>
<span class="o">-</span> <span class="p">[</span><span class="n">M4</span><span class="p">,</span> <span class="n">drawing</span><span class="p">]</span>
<span class="o">-</span> <span class="p">[</span><span class="n">M5</span><span class="p">,</span> <span class="n">drawing</span><span class="p">]</span>
<span class="o">-</span> <span class="p">[</span><span class="n">M6</span><span class="p">,</span> <span class="n">drawing</span><span class="p">]</span>
<span class="o">-</span> <span class="p">[</span><span class="n">M7</span><span class="p">,</span> <span class="n">drawing</span><span class="p">]</span>
<span class="o">-</span> <span class="p">[</span><span class="n">M8</span><span class="p">,</span> <span class="n">drawing</span><span class="p">]</span>
<span class="o">-</span> <span class="p">[</span><span class="n">M9</span><span class="p">,</span> <span class="n">drawing</span><span class="p">]</span>
<span class="n">via_layers</span><span class="p">:</span> <span class="c1">#via layers</span>
<span class="o">-</span> <span class="p">[</span><span class="n">V0</span><span class="p">,</span> <span class="n">donotuse</span><span class="p">]</span>
<span class="o">-</span> <span class="p">[</span><span class="n">V1</span><span class="p">,</span> <span class="n">drawing</span><span class="p">]</span>
<span class="o">-</span> <span class="p">[</span><span class="n">V2</span><span class="p">,</span> <span class="n">drawing</span><span class="p">]</span>
<span class="o">-</span> <span class="p">[</span><span class="n">V3</span><span class="p">,</span> <span class="n">drawing</span><span class="p">]</span>
<span class="o">-</span> <span class="p">[</span><span class="n">V4</span><span class="p">,</span> <span class="n">drawing</span><span class="p">]</span>
<span class="o">-</span> <span class="p">[</span><span class="n">V5</span><span class="p">,</span> <span class="n">drawing</span><span class="p">]</span>
<span class="o">-</span> <span class="p">[</span><span class="n">V6</span><span class="p">,</span> <span class="n">drawing</span><span class="p">]</span>
<span class="o">-</span> <span class="p">[</span><span class="n">V7</span><span class="p">,</span> <span class="n">drawing</span><span class="p">]</span>
<span class="o">-</span> <span class="p">[</span><span class="n">V8</span><span class="p">,</span> <span class="n">drawing</span><span class="p">]</span>
<span class="n">pin_layers</span><span class="p">:</span> <span class="c1">#pin layers</span>
<span class="o">-</span> <span class="p">[</span><span class="n">text</span><span class="p">,</span> <span class="n">drawing</span><span class="p">]</span>
<span class="o">-</span> <span class="p">[</span><span class="n">M1</span><span class="p">,</span> <span class="n">pin</span><span class="p">]</span>
<span class="o">-</span> <span class="p">[</span><span class="n">M2</span><span class="p">,</span> <span class="n">pin</span><span class="p">]</span>
<span class="o">-</span> <span class="p">[</span><span class="n">M3</span><span class="p">,</span> <span class="n">pin</span><span class="p">]</span>
<span class="o">-</span> <span class="p">[</span><span class="n">M4</span><span class="p">,</span> <span class="n">pin</span><span class="p">]</span>
<span class="o">-</span> <span class="p">[</span><span class="n">M5</span><span class="p">,</span> <span class="n">pin</span><span class="p">]</span>
<span class="o">-</span> <span class="p">[</span><span class="n">M6</span><span class="p">,</span> <span class="n">pin</span><span class="p">]</span>
<span class="o">-</span> <span class="p">[</span><span class="n">M7</span><span class="p">,</span> <span class="n">pin</span><span class="p">]</span>
<span class="o">-</span> <span class="p">[</span><span class="n">M8</span><span class="p">,</span> <span class="n">pin</span><span class="p">]</span>
<span class="o">-</span> <span class="p">[</span><span class="n">M9</span><span class="p">,</span> <span class="n">pin</span><span class="p">]</span>
<span class="n">prboundary_layer</span><span class="p">:</span> <span class="p">[</span><span class="n">prBoundary</span><span class="p">,</span> <span class="n">boundary</span><span class="p">]</span> <span class="c1">#boundary layer</span>
<span class="n">tech_lib</span><span class="p">:</span> <span class="n">cds_ff_mpt</span>
<span class="n">text_layer</span><span class="p">:</span> <span class="p">[</span><span class="n">text</span><span class="p">,</span> <span class="n">drawing</span><span class="p">]</span>
<span class="n">physical_resolution</span><span class="p">:</span> <span class="mf">0.001</span>
</pre></div>
</div>
<p>Here&#8217;s description on items.</p>
<ul class="simple">
<li><strong>metal_layers</strong> (list): contains [<em>layername</em>, <em>layerpurpose</em>]
of metal layers to be used for routing, starting from the bottom
layer to the top layer.</li>
<li><strong>via_layers</strong> (list): contains [<em>layername</em>, <em>layerpurpose</em>]
of via layers to be used for routing, starting from the bottom
layer to the top layer.</li>
<li><strong>pin_layers</strong> (list): contains [<em>layername</em>, <em>layerpurpose</em>]
of pin layers to be used for routing, starting from the bottom
layer to the top layer.</li>
<li><strong>prboundary_layer</strong> (list): contains [<em>layername</em>, <em>layerpurpose</em>]
of the prBoundary layer for placement.</li>
<li><strong>tech_lib</strong> (str): name of technology.</li>
<li><strong>text_layers</strong> (list): contains [<em>layername</em>, <em>layerpurpose</em>]
of the text layer for annotations.</li>
<li><strong>physical_resolution</strong> (float): minimum layout grid resolution in
micron. Most advanced nodes have grid resolutions ranging from 0.01
to 0.001.</li>
</ul>
<p>As you can see, all parameters are straightforward and can easily be
filled up.</p>
</div>
<div class="section" id="tech-lib-layermap-optional">
<span id="tech-lib-layermap-optional"></span><h2>(tech_lib).layermap (optional)<a class="headerlink" href="#tech-lib-layermap-optional" title="Permalink to this headline">¶</a></h2>
<p>For <strong>GDS flow</strong>, a separate layermap file is needed to map the layer
names to actual layer ids. Usually the layermap file is provided by
Foundry and can be found in the PDK library (because the file is used
to stream out a layout to a GDS file). Users can also try to make a
layermap file by themselves. Here&#8217;s a example of the layermap file
(numbers are not from any real/generic PDKs). For <strong>BAG flow</strong> this file
is not needed.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1">#technology layer information for gds export</span>
<span class="c1">#you may find this in the cadence techlib directory</span>
<span class="c1">#layername layerpurpose stream# datatype</span>
<span class="n">text</span>        <span class="n">drawing</span> <span class="mi">100</span> <span class="mi">0</span>
<span class="n">prBoundary</span>  <span class="n">drawing</span> <span class="mi">101</span> <span class="mi">0</span>
<span class="n">M1</span>          <span class="n">drawing</span> <span class="mi">1</span>   <span class="mi">0</span>
<span class="n">M1</span>          <span class="n">pin</span>     <span class="mi">1</span>   <span class="mi">1</span>
<span class="n">M2</span>          <span class="n">drawing</span> <span class="mi">2</span>   <span class="mi">0</span>
<span class="n">M2</span>          <span class="n">pin</span>     <span class="mi">2</span>   <span class="mi">1</span>
<span class="n">M3</span>          <span class="n">drawing</span> <span class="mi">3</span>   <span class="mi">0</span>
<span class="n">M3</span>          <span class="n">pin</span>     <span class="mi">3</span>   <span class="mi">1</span>
<span class="n">M4</span>          <span class="n">drawing</span> <span class="mi">4</span>   <span class="mi">0</span>
<span class="n">M4</span>          <span class="n">pin</span>     <span class="mi">4</span>   <span class="mi">1</span>
<span class="n">M5</span>          <span class="n">drawing</span> <span class="mi">5</span>   <span class="mi">0</span>
<span class="n">M5</span>          <span class="n">pin</span>     <span class="mi">5</span>   <span class="mi">1</span>
<span class="n">M6</span>          <span class="n">drawing</span> <span class="mi">6</span>   <span class="mi">0</span>
<span class="n">M6</span>          <span class="n">pin</span>     <span class="mi">6</span>   <span class="mi">1</span>
<span class="n">M7</span>          <span class="n">drawing</span> <span class="mi">7</span>   <span class="mi">0</span>
<span class="n">M7</span>          <span class="n">pin</span>     <span class="mi">7</span>   <span class="mi">1</span>
<span class="n">M8</span>          <span class="n">drawing</span> <span class="mi">8</span>   <span class="mi">0</span>
<span class="n">M8</span>          <span class="n">pin</span>     <span class="mi">8</span>   <span class="mi">1</span>
<span class="n">M9</span>          <span class="n">drawing</span> <span class="mi">9</span>   <span class="mi">0</span>
<span class="n">M9</span>          <span class="n">pin</span>     <span class="mi">9</span>   <span class="mi">1</span>
<span class="n">VIA1</span>        <span class="n">drawing</span> <span class="mi">11</span>   <span class="mi">0</span>
<span class="n">VIA2</span>        <span class="n">drawing</span> <span class="mi">12</span>   <span class="mi">0</span>
<span class="n">VIA3</span>        <span class="n">drawing</span> <span class="mi">13</span>   <span class="mi">0</span>
<span class="n">VIA4</span>        <span class="n">drawing</span> <span class="mi">14</span>   <span class="mi">0</span>
<span class="n">VIA5</span>        <span class="n">drawing</span> <span class="mi">15</span>   <span class="mi">0</span>
<span class="n">VIA6</span>        <span class="n">drawing</span> <span class="mi">16</span>   <span class="mi">0</span>
<span class="n">VIA7</span>        <span class="n">drawing</span> <span class="mi">17</span>   <span class="mi">0</span>
<span class="n">VIA8</span>        <span class="n">drawing</span> <span class="mi">18</span>   <span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="template-library">
<span id="template-library"></span><h2>template library<a class="headerlink" href="#template-library" title="Permalink to this headline">¶</a></h2>
<p>This is the most critical part for the setup. Laygo uses handcraft
templates of primitive devices for layout generations, meaning that
users need to build the template devices by themselves if not provided.
Basically there are 4 different cells to be created.</p>
<ol class="simple">
<li>Placement grids: defines the grid resolutions that devices will
be placed. <strong>prboundary_layer</strong> is used for setting the resolution.</li>
<li>Routing grids: defines the grid resolutions that routing wires
and vias will be placed. Rects with <strong>metal_layers</strong> are used to
define the width / spacing / coordinate of the routing grid.</li>
<li>Device template cells: templates of devices will be placed on one
of the placement grids</li>
<li>Via template cells: templates of vias will be placed on one of
the route grids.</li>
</ol>
<p><img alt="techex" src="../_images/tech_example.png" /></p>
<p>Template and grid cell examples</p>
<p><strong>Multiple placement grids / routing grids / devices / vias</strong> can be
defined for same technology / layer / device type. For example, users
can use 2 different types of grids (e.g thin and thick grids) for Metal1
and Metal2. Or 2 different set of NMOS templates (short channel and
long channel) can be defined. This gives a flexibility on generated
layout while still abstracting design rules.</p>
<p>The set of template / grid elements depends on user&#8217;s preference, but
here are cells that need to be included to generate layout in the
example documentation.</p>
<div class="section" id="example-template-library-name">
<span id="example-template-library-name"></span><h3>Example template library name<a class="headerlink" href="#example-template-library-name" title="Permalink to this headline">¶</a></h3>
<p>For generator examples, (tech_lib)_microtemplates_dense is used for the
primitive template library name</p>
<p><img alt="libname" src="../_images/tech_libname.png" /></p>
</div>
<div class="section" id="example-placement-grids">
<span id="example-placement-grids"></span><h3>Example placement grids<a class="headerlink" href="#example-placement-grids" title="Permalink to this headline">¶</a></h3>
<ol>
<li><p class="first">placement_basic : a default placement grid cell. <strong>Contacted Poly
Pitch(CPO)</strong> for the resolution in <strong>x</strong> direction and <strong>fin
grid</strong> or <strong>contact pitch</strong> is a good candidate for the
placement grid. Note that the size of any compatible templates
should be a multiple of the placement grid.</p>
<p><img alt="placement_basic" src="../_images/tech_placement_basic.png" /></p>
<p>placement_basic example</p>
</li>
</ol>
</div>
<div class="section" id="example-routing-grids-and-vias">
<span id="example-routing-grids-and-vias"></span><h3>Example routing grids and vias<a class="headerlink" href="#example-routing-grids-and-vias" title="Permalink to this headline">¶</a></h3>
<ol>
<li><p class="first">route_M1_M2_basic : a default M1_M2_route grid cell. <strong>Minimum metal
spacings and widths</strong> are used for the resolution and metal width.</p>
<p><img alt="m1_m2_basic" src="../_images/tech_m1_m2.png" /></p>
</li>
<li><p class="first">route_M1_M2_basic_thick: an M1_M2 grid that is composed of
<strong>thin</strong> M1 and <strong>thick</strong> M2. This grid is useful for power grid routings.</p>
<p><img alt="m1_m2_basic_thick" src="../_images/tech_m1_m2_basic_thick.png" /></p>
</li>
<li><p class="first">route_M1_M2_mos, route_M1_M2_cmos : M2_M2 grids that are designed
to be compatible to NMOS/PMOS/CMOS stuctures. Note that grid coordinates
are aligned to gate/drain/source pins of fets.</p>
<p><img alt="m1_m2_mos" src="../_images/tech_m1_m2_mos.png" /></p>
</li>
<li><p class="first">M2_M3 grids (route_M2_M3_basic, route_M2_M3_thick_basic,
route_M2_M3_cmos): M2_M3 grids that are compatible with M1_M2 grids.</p>
<p><img alt="m2_m3" src="../_images/tech_m2_m3.png" /></p>
</li>
<li><p class="first">Other grids on upper metal layers: following grids are used for
example generators.</p>
<p><strong>M3_M4 grids</strong>: route_M3_M4_basic, route_M3_M4_basic_thick,
route_M3_M4_thick</p>
<p><strong>M4_M5 grids</strong>: route_M4_M5_basic, route_M4_M5_thick</p>
<p><strong>M5_M6 grids</strong>: route_M5_M6_basic, route_M5_M6_basic_thick,
route_M5_M6_thick</p>
</li>
</ol>
</div>
<div class="section" id="example-mosfet-templates">
<span id="example-mosfet-templates"></span><h3>Example mosfet templates<a class="headerlink" href="#example-mosfet-templates" title="Permalink to this headline">¶</a></h3>
<div class="section" id="basic-idea">
<span id="basic-idea"></span><h4>Basic idea<a class="headerlink" href="#basic-idea" title="Permalink to this headline">¶</a></h4>
<p>In order to nicely capture all boundary design rules, all mostfet row
structures are divided into 3 parts:</p>
<ul class="simple">
<li>Row boundary cells: placed at the (left &amp; right) edges of device rows.</li>
<li>Local boundary cells: placed between core devices</li>
<li>Core cells: actual device cells (e.g. NF=2 NMOS, NF=1 NMOS, dummy NMOS, tap, ...)</li>
</ul>
<p>Any device row can be constructed by combining those element cells into
one row.</p>
<p><img alt="nmos" src="../_images/tech_nmos.png" /></p>
<p>For generator examples, these types of cells need to be implemented:
nmos4_fast, pmos4_fast, ntap_fast, ptap_fast</p>
</div>
<div class="section" id="nmos4-fast-family-cells">
<span id="nmos4-fast-family-cells"></span><h4>nmos4_fast family cells<a class="headerlink" href="#nmos4-fast-family-cells" title="Permalink to this headline">¶</a></h4>
<p>Here are the list of nmos cells used in generator examples:</p>
<ol class="simple">
<li><strong>nmos4_fast_left</strong>: left boundary of nmos4_fast row</li>
<li><strong>nmos4_fast_right</strong>: right boundary of nmos4_fast row</li>
<li><strong>nmos4_fast_boundary</strong>: local boundary of nmos4_fast primitives</li>
<li><strong>nmos4_fast_space, nmos4_fast_space</strong>: 1x spacing cells</li>
<li><strong>nmos4_fast_space_2x, nmos4_fast_space_nf2</strong>: 2x spacing cells</li>
<li><strong>nmos4_fast_space_4x, nmos4_fast_space_nf4</strong>: 4x spacing cells</li>
<li><strong>nmos4_fast_tap</strong>: nmos4 tap cell</li>
<li><strong>nmos4_fast_center_nf2</strong>: 2 finger nmos core</li>
<li><strong>nmos4_fast_center_nf2</strong>: 2-stacked nmos core</li>
<li><strong>nmos4_fast_center_nf2</strong>: 1 finger nmos core (gate left sided)</li>
<li><strong>nmos4_fast_center_nf2</strong>: 1 finger nmos core (gate right sided)</li>
<li><strong>nmos4_fast_center_nf2</strong>: 2 finger dummy nmos</li>
</ol>
<p><img alt="nmos_type" src="../_images/tech_nmos_type.png" /></p>
</div>
<div class="section" id="pmos4-fast-family-cells">
<span id="pmos4-fast-family-cells"></span><h4>pmos4_fast family cells<a class="headerlink" href="#pmos4-fast-family-cells" title="Permalink to this headline">¶</a></h4>
<p>Equivalent pmos cells need to be implemented as well:</p>
<ol class="simple">
<li><strong>pmos4_fast_left</strong>: left boundary of pmos4_fast row</li>
<li><strong>pmos4_fast_right</strong>: right boundary of pmos4_fast row</li>
<li><strong>pmos4_fast_boundary</strong>: local boundary of pmos4_fast primitives</li>
<li><strong>pmos4_fast_space, pmos4_fast_space</strong>: 1x spacing cell</li>
<li><strong>pmos4_fast_space_2x, pmos4_fast_space_nf2</strong>: 2x spacing cells</li>
<li><strong>pmos4_fast_space_4x, pmos4_fast_space_nf4</strong>: 4x spacing cells</li>
<li><strong>pmos4_fast_tap</strong>: pmos4 tap cell</li>
<li><strong>pmos4_fast_center_nf2</strong>: 2 finger pmos core</li>
<li><strong>pmos4_fast_center_nf2</strong>: 2-stacked pmos core</li>
<li><strong>pmos4_fast_center_nf2</strong>: 1 finger pmos core (gate left sided)</li>
<li><strong>pmos4_fast_center_nf2</strong>: 1 finger pmos core (gate right sided)</li>
<li><strong>pmos4_fast_center_nf2</strong>: 2 finger dummy pmos</li>
</ol>
</div>
<div class="section" id="ptap-fast-family-cells">
<span id="ptap-fast-family-cells"></span><h4>ptap_fast family cells<a class="headerlink" href="#ptap-fast-family-cells" title="Permalink to this headline">¶</a></h4>
<p>Ptap cells are used for constructing a ptap row, in order to
construct thicker power grids (usually for pure analog cells)
or guard rings.</p>
<ol class="simple">
<li><strong>ptap_fast_left</strong>: left boundary of ptap_fast row</li>
<li><strong>ptap_fast_right</strong>: left boundary of ptap_fast row</li>
<li><strong>ptap_fast_boundary</strong>: local boundary of ptap_fast row</li>
<li><strong>ptap_fast_center_nf2</strong>: 2 finger ptap core</li>
<li><strong>ptap_fast_space</strong>: 1x spacing cell</li>
<li><strong>ptap_fast_space_nf2</strong>: 1x spacing cell</li>
<li><strong>ptap_fast_space_Nf4</strong>: 1x spacing cell</li>
</ol>
</div>
<div class="section" id="ntap-fast-family-cells">
<span id="ntap-fast-family-cells"></span><h4>ntap_fast family cells<a class="headerlink" href="#ntap-fast-family-cells" title="Permalink to this headline">¶</a></h4>
<p>Equivalent ntap cells need to be implemented as well:</p>
<ol class="simple">
<li><strong>ntap_fast_left</strong>: left boundary of ntap_fast row</li>
<li><strong>ntap_fast_right</strong>: left boundary of ntap_fast row</li>
<li><strong>ntap_fast_boundary</strong>: local boundary of ntap_fast row</li>
<li><strong>ntap_fast_center_nf2</strong>: 2 finger ntap core</li>
<li><strong>ntap_fast_space</strong>: 1x spacing cell</li>
<li><strong>ntap_fast_space_nf2</strong>: 1x spacing cell</li>
<li><strong>ntap_fast_space_Nf4</strong>: 1x spacing cell</li>
</ol>
</div>
</div>
<div class="section" id="converting-template-layout-to-laygo-database">
<span id="converting-template-layout-to-laygo-database"></span><h3>Converting template layout to laygo database<a class="headerlink" href="#converting-template-layout-to-laygo-database" title="Permalink to this headline">¶</a></h3>
<p>After building those primitive templates, open bag and type</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>    <span class="n">run</span> <span class="n">laygo</span><span class="o">/</span><span class="n">labs</span><span class="o">/</span><span class="n">lab2_a_gridlayoutgenerator_constructtemplate</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>It will read the primitive template layouts and construct template / grid
databases and save them to the following 2 yaml files:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="p">(</span><span class="n">tech_lib</span><span class="p">)</span><span class="n">_microtemplates_dense_templates</span><span class="o">.</span><span class="n">yaml</span>
<span class="o">*</span> <span class="p">(</span><span class="n">tech_lib</span><span class="p">)</span><span class="n">_microtemplates_dense_grids</span><span class="o">.</span><span class="n">yaml</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../api/modules.html" class="btn btn-neutral float-right" title="laygo">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../example/code.html" class="btn btn-neutral" title="Example codes"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Jaeduk Han.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>